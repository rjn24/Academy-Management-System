<div class="container">

  <h2>Students</h2>

  <!-- Form -->
  <input placeholder="Name" [(ngModel)]="model.name" name="name">
  <input placeholder="Program" [(ngModel)]="model.program" name="program">
  <input placeholder="Year" [(ngModel)]="model.year" name="year">
  <input placeholder="Class ID" [(ngModel)]="model.classID" name="classID">

  <br><br>

  <button type="button" (click)="saveStudent()">
    {{ editing ? 'Update' : 'Add' }} Student
  </button>

  @if (editing) {
    <button type="button" (click)="reset()">Cancel</button>
  }

  <button type="button" (click)="showTable = !showTable">
    {{ showTable ? 'Hide' : 'Show' }} Students
  </button>

  <hr>

  @if (showTable) {
    <table border="1" cellpadding="6">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Program</th>
        <th>Year</th>
        <th>Class</th>
        <th>Actions</th>
      </tr>

      @for (s of students; track s.studentID) {
        <tr>
          <td>{{ s.studentID }}</td>
          <td>{{ s.name }}</td>
          <td>{{ s.program }}</td>
          <td>{{ s.year }}</td>
          <td>{{ s.classID }}</td>
          <td>
            <button type="button" (click)="editStudent(s)">Edit</button>
            <button type="button" (click)="deleteStudent(s.studentID)">Delete</button>
          </td>
        </tr>
      }
    </table>
  }

</div>
